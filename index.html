<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>英単語テスト</title>

<style>
body {
    font-family: Arial;
    margin: 20px;
}
.hidden {
    display: none;
}
table, td {
    border: 1px solid #aaa;
    border-collapse: collapse;
    padding: 4px;
}
</style>

</head>
<body>
<header>
    <h2>英単語テスト</h2>
    <nav>
        <button onclick="showPage('quiz')">出題</button>
        <button onclick="showPage('list')">一覧</button>
        <button onclick="toggleWrongOnlyMode()">不正解のみ出題</button>
        <button onclick="resetProgress()">進捗リセット</button>
    </nav>
</header>

<main>
    <!-- 出題画面 -->
    <section id="quiz" class="page">
        <p id="meaning">ここに意味が出ます</p>
        <input id="answerInput" type="text" placeholder="英単語入力">
        <button onclick="checkAnswer()">回答！</button>
        <p id="result"></p>
    </section>

    <!-- 一覧画面 -->
    <section id="list" class="page hidden">
        <h3>単語リスト</h3>
        <select id="filter" onchange="renderList()">
            <option value="all">全て</option>
            <option value="correct">正解済み</option>
            <option value="wrong">不正解</option>
            <option value="unanswered">未出題</option>
        </select>
        <table id="wordTable"></table>
    </section>
</main>

<script>
// ===== 単語データ（words.js） =====
const words = [
  {"word": "about", "meaning": "〜について"},
  {"word": "act", "meaning": "行動する"},
  {"word": "afternoon", "meaning": "午後"},
  {"word": "again", "meaning": "再び"},
  {"word": "air", "meaning": "空気"},
  {"word": "airplane", "meaning": "飛行機"},
  {"word": "all", "meaning": "すべて"},
  {"word": "also", "meaning": "〜もまた"},
  {"word": "America", "meaning": "アメリカ"},
  {"word": "and", "meaning": "と、そして"},
  {"word": "angry", "meaning": "怒って"},
  {"word": "animal", "meaning": "動物"},
  {"word": "apple", "meaning": "りんご"},
  {"word": "April", "meaning": "4月"},
  {"word": "arm", "meaning": "腕"},
  {"word": "around", "meaning": "〜のまわりに"},
  {"word": "art", "meaning": "美術、芸術"},
  {"word": "ask", "meaning": "たずねる、頼む"},
  {"word": "August", "meaning": "8月"},
  {"word": "aunt", "meaning": "おば"},
  {"word": "Australia", "meaning": "オーストラリア"},

  {"word": "baby", "meaning": "赤ちゃん"},
  {"word": "back", "meaning": "後ろ、背中"},
  {"word": "bad", "meaning": "悪い"},
  {"word": "bag", "meaning": "かばん"},
  {"word": "ball", "meaning": "ボール"},
  {"word": "banana", "meaning": "バナナ"},
  {"word": "baseball", "meaning": "野球"},
  {"word": "basketball", "meaning": "バスケットボール"},
  {"word": "beach", "meaning": "浜、海岸"},
  {"word": "beautiful", "meaning": "美しい"},
  {"word": "because", "meaning": "なぜなら"},
  {"word": "bed", "meaning": "ベッド"},
  {"word": "bedroom", "meaning": "寝室"},
  {"word": "been", "meaning": "beの過去分詞"},
  {"word": "before", "meaning": "〜の前に"},
  {"word": "begin", "meaning": "始める"},
  {"word": "behind", "meaning": "〜の後ろに"},
  {"word": "believe", "meaning": "信じる"},
  {"word": "bell", "meaning": "ベル"},
  {"word": "best", "meaning": "最もよい"},
  {"word": "better", "meaning": "よりよい"},
  {"word": "big", "meaning": "大きい"},
  {"word": "bike", "meaning": "自転車"},

  {"word": "cake", "meaning": "ケーキ"},
  {"word": "came", "meaning": "comeの過去形"},
  {"word": "camera", "meaning": "カメラ"},
  {"word": "can", "meaning": "〜できる"},
  {"word": "car", "meaning": "車"},
  {"word": "cat", "meaning": "ネコ"},
  {"word": "catch", "meaning": "つかまえる"},
  {"word": "change", "meaning": "変える；着がえる"},
  {"word": "chicken", "meaning": "ニワトリ、鶏肉"},
  {"word": "Chinese", "meaning": "中国の；中国人"},
  {"word": "city", "meaning": "都市、街"},
  {"word": "class", "meaning": "クラス、授業"},
  {"word": "clean", "meaning": "掃除する"},
  {"word": "close", "meaning": "閉める、閉まる"},
  {"word": "cloudy", "meaning": "曇った"},
  {"word": "club", "meaning": "クラブ、部"},
  {"word": "cold", "meaning": "寒い、冷たい"},
  {"word": "color", "meaning": "色"},
  {"word": "comic", "meaning": "漫画"},
  {"word": "computer", "meaning": "コンピュータ"},
  {"word": "cook", "meaning": "料理する"},
  {"word": "cousin", "meaning": "いとこ"},
  {"word": "crayon", "meaning": "クレヨン"},
  {"word": "cry", "meaning": "泣く"},
  {"word": "curry", "meaning": "カレー"},
  {"word": "cut", "meaning": "切る"},
  {"word": "cute", "meaning": "かわいい"},

  {"word": "dad", "meaning": "お父さん"},
  {"word": "dance", "meaning": "ダンスする"},
  {"word": "date", "meaning": "日付"},
  {"word": "daughter", "meaning": "娘"},
  {"word": "day", "meaning": "日、昼間"},
  {"word": "dear", "meaning": "親愛なる（手紙）"},
　{"word": "December", "meaning": "12月"},
  {"word": "desk", "meaning": "机、デスク"},
  {"word": "detective", "meaning": "探偵、刑事"},
  {"word": "did", "meaning": "doの過去形"},
  {"word": "difficult", "meaning": "難しい"},
  {"word": "dinner", "meaning": "夕食"},
  {"word": "dish", "meaning": "皿"},
  {"word": "do", "meaning": "する；行う"},
  {"word": "How are you doing?", "meaning": "お元気ですか"},
  {"word": "do your homework", "meaning": "宿題をする"},
  {"word": "does", "meaning": "doの三人称単数形"},
  {"word": "dog", "meaning": "犬"},
  {"word": "doll", "meaning": "人形"},
  {"word": "dollar", "meaning": "ドル"},
  {"word": "dolphin", "meaning": "イルカ"},
  {"word": "door", "meaning": "ドア；戸"},
  {"word": "down", "meaning": "下へ；下って"},
  {"word": "dress", "meaning": "服、ドレス"},
  {"word": "drink", "meaning": "飲む"},
  {"word": "dry", "meaning": "乾いた"},

  {"word": "each", "meaning": "それぞれの"},
  {"word": "early", "meaning": "時間が早く"},
  {"word": "eat", "meaning": "食べる"},
  {"word": "egg", "meaning": "たまご"},
  {"word": "eight", "meaning": "8の"},
  {"word": "eighteen", "meaning": "18の"},
  {"word": "eighth", "meaning": "8番目の"},
  {"word": "eighty", "meaning": "80の"},
  {"word": "eleven", "meaning": "11"},
  {"word": "eleventh", "meaning": "11番目の"},
  {"word": "end", "meaning": "終わり；結末"},
  {"word": "English", "meaning": "英語；英語の；イギリス（人）の"},

  {"word": "enjoy", "meaning": "楽しむ"},
  {"word": "evening", "meaning": "晩、夕方"},
  {"word": "every", "meaning": "毎〜"},
  {"word": "every day", "meaning": "毎日"},
  {"word": "every month", "meaning": "毎月"},
  {"word": "everyone", "meaning": "みんな"},
  {"word": "Excuse me.", "meaning": "すみません／失礼します。"},

  {"word": "face", "meaning": "顔"},
  {"word": "fall", "meaning": "秋；落ちる"},

  {"word": "family", "meaning": "家族"},
  {"word": "famous", "meaning": "有名な"},
  {"word": "fan", "meaning": "ファン；扇風機"},
  {"word": "fast", "meaning": "速い"},

  {"word": "father", "meaning": "おとうさん"},
  {"word": "February", "meaning": "2月"},
  {"word": "fifteen", "meaning": "15の"},
  {"word": "fifth", "meaning": "5番目の"},
  {"word": "fifty", "meaning": "50の"},
  {"word": "finally", "meaning": "ついに"},
  {"word": "fine", "meaning": "元気な"},
  {"word": "first", "meaning": "1番の"},
  {"word": "fish", "meaning": "魚"},
  {"word": "five", "meaning": "5"},
  {"word": "Flash", "meaning": "フラッシュ；せん光"},
  {"word": "floor", "meaning": "床"},
  {"word": "fly", "meaning": "飛ぶ"},
  {"word": "fold", "meaning": "折る"},
  {"word": "follow", "meaning": "後について行く"},
  {"word": "food", "meaning": "食べ物"},
  {"word": "for", "meaning": "〜のために；〜にとって"},
  {"word": "forget", "meaning": "忘れる"},
  {"word": "forty", "meaning": "40の"},
  {"word": "four", "meaning": "4"},
  {"word": "fourteen", "meaning": "14"},
  {"word": "fourth", "meaning": "4番目の"},
  {"word": "fox", "meaning": "きつね"},
  {"word": "Friday", "meaning": "金曜日"},
  {"word": "friend", "meaning": "友達"},
  {"word": "from", "meaning": "〜出身で；〜から"},

  {"word": "game", "meaning": "ゲーム；試合"},
  {"word": "gesture", "meaning": "ジェスチャー"},
  {"word": "get", "meaning": "得る"},
  {"word": "get home", "meaning": "家に着く"},
  {"word": "get on", "meaning": "乗る"},
  {"word": "get up", "meaning": "起きる"},
  {"word": "giant", "meaning": "巨人"},
  {"word": "girl", "meaning": "女の子"},
  {"word": "go", "meaning": "行く"},
  {"word": "go home", "meaning": "家へ帰る"},
  {"word": "go to bed", "meaning": "寝る"},
  {"word": "good", "meaning": "良い"},
  {"word": "good", "meaning": "おいしい"},
  {"word": "good at ~", "meaning": "〜が得意である"},
  {"word": "Good afternoon.", "meaning": "こんにちは"},
  {"word": "Good morning.", "meaning": "おはよう"},
  {"word": "goodbye", "meaning": "さようなら"},

  {"word": "gosh", "meaning": "あら、まあ（驚き・喜び・あきれ）"},
  {"word": "got", "meaning": "get の過去形"},
  {"word": "gram", "meaning": "グラム"},
  {"word": "grandma", "meaning": "祖母、おばあさん"},
  {"word": "grandpa", "meaning": "祖父、おじいさん"},
  {"word": "gray", "meaning": "灰色の"},
  {"word": "great", "meaning": "すばらしい"},
  {"word": "grim", "meaning": "厳しい"},
  {"word": "group", "meaning": "グループ"},
  {"word": "guitar", "meaning": "ギター"},

  {"word": "had", "meaning": "have の過去形"},
  {"word": "hair", "meaning": "髪"},
  {"word": "hand", "meaning": "手"},
  {"word": "hard", "meaning": "困難な；一生懸命な"},
  {"word": "has", "meaning": "have の三人称単数形"},
  {"word": "hat", "meaning": "帽子"},
  {"word": "have", "meaning": "持っている；（助動）〜したことがある"},
  {"word": "he", "meaning": "彼は"},
  {"word": "head", "meaning": "頭"},
  {"word": "hello", "meaning": "こんにちは"},
  {"word": "help", "meaning": "助ける、手伝う"},
  {"word": "Can I help you?", "meaning": "何かお手伝いしましょうか"},
  {"word": "her", "meaning": "彼女の"},
  {"word": "here", "meaning": "ここで；へ"},
  {"word": "Here you are.", "meaning": "はい、どうぞ"},
  {"word": "Here it is.", "meaning": "ここにあります（ね）"},
  {"word": "here", "meaning": "ここへ"},
  {"word": "hers", "meaning": "彼女のもの"},
  {"word": "hi", "meaning": "やあ、こんにちは"},
  {"word": "Hi, there.", "meaning": "やあ、こんにちは"},
  {"word": "high", "meaning": "高い"},
  {"word": "high school", "meaning": "高校"},
  {"word": "hill", "meaning": "丘"},
  {"word": "him", "meaning": "彼を"},
  {"word": "his", "meaning": "彼の"},
  {"word": "history", "meaning": "歴史"},
  {"word": "hold", "meaning": "持つ"},
  {"word": "hold on", "meaning": "（電話を切らないで）待つ"},
  {"word": "hold on to ~", "meaning": "〜につかまる"},
  {"word": "home", "meaning": "家で；家へ"},
  {"word": "home", "meaning": "家"},
  {"word": "get home", "meaning": "家に着く"},
  {"word": "walk home", "meaning": "歩いて帰る"},
  {"word": "homework", "meaning": "宿題"},
  {"word": "do your homework", "meaning": "宿題をする"},
  {"word": "hot", "meaning": "暑い"},
  {"word": "hour", "meaning": "時間、時刻"},
  {"word": "house", "meaning": "家"},
  {"word": "how", "meaning": "どのように"},

  {"word": "hundred", "meaning": "100"},
  {"word": "hurry", "meaning": "急ぐ"},

  {"word": "I", "meaning": "私は"},
  {"word": "I see.", "meaning": "なるほど；そうですか"},
  {"word": "ice cream", "meaning": "アイスクリーム"},
  {"word": "idea", "meaning": "考え、アイディア"},
  {"word": "in", "meaning": "〜の中に；〜で"},
  {"word": "in front of", "meaning": "〜の前で"},
  {"word": "inside", "meaning": "中に；屋内で"},
  {"word": "India", "meaning": "インド"},
  {"word": "Indian", "meaning": "インド（人）の"},
  {"word": "interesting", "meaning": "おもしろい"},
  {"word": "Internet", "meaning": "インターネット"},
  {"word": "Is it OK?", "meaning": "それは大丈夫ですか"},

  {"word": "jacket", "meaning": "ジャケット、上着"},
  {"word": "January", "meaning": "1月"},
  {"word": "Japan", "meaning": "日本"},
  {"word": "Japanese", "meaning": "日本語；日本（人）の"},
  {"word": "July", "meaning": "7月"},
  {"word": "jump", "meaning": "跳ぶ、ジャンプする"},
  {"word": "June", "meaning": "6月"},
  {"word": "junior high school", "meaning": "中学校"},

  {"word": "just", "meaning": "ちょうど；ただ〜だけ"},
  {"word": "Just kidding.", "meaning": "ほんの冗談です"},
  {"word": "kid", "meaning": "子ども；若者"},

  {"word": "key", "meaning": "かぎ"},
  {"word": "kid", "meaning": "子ども"},
  {"word": "know", "meaning": "知る；知っている"},
  {"word": "Korean", "meaning": "韓国（人）の；韓国語"},
  {"word": "Korea", "meaning": "韓国"},

  {"word": "Korean-style", "meaning": "韓国風；朝鮮式の"},

  {"word": "last", "meaning": "（この）前の"},
  {"word": "last night", "meaning": "昨夜"},
  {"word": "late", "meaning": "遅い"},
  {"word": "learn", "meaning": "習う；学ぶ"},
  {"word": "leave", "meaning": "出発する；〜のもとを去る"},
  {"word": "left", "meaning": "左"},
  {"word": "leg", "meaning": "脚"},
  {"word": "lesson", "meaning": "授業；レッスン"},
  {"word": "Yes, let's.", "meaning": "そうしましょう"},
  {"word": "letter", "meaning": "手紙"},
  {"word": "library", "meaning": "図書館"},
  {"word": "light", "meaning": "明るい"},
  {"word": "like", "meaning": "（〜が）好きである"},
  {"word": "linear motor car", "meaning": "リニアモーターカー"},
  {"word": "lion", "meaning": "ライオン"},
  {"word": "listen", "meaning": "聞く"},
  {"word": "listen to", "meaning": "〜を聞く；〜に耳を傾ける"},
  {"word": "little", "meaning": "小さい；幼い"},
  {"word": "live", "meaning": "住んでいる；生活する"},
  {"word": "Liz", "meaning": "リズ（女子名）"},
  {"word": "London", "meaning": "ロンドン（イギリスの都市）"},
  {"word": "long", "meaning": "長い"},
  {"word": "look", "meaning": "見る"},
  {"word": "look at", "meaning": "〜の方を見る"},
  {"word": "look for", "meaning": "〜を探す"},

  {"word": "loud", "meaning": "（音・声が）大きな"},
  {"word": "love", "meaning": "大好きである；愛する"},
  {"word": "lunch", "meaning": "昼食"},

  {"word": "magazine", "meaning": "雑誌"},
  {"word": "make", "meaning": "作る"},
  {"word": "man", "meaning": "男性；男の人"},
  {"word": "many", "meaning": "たくさんの"},
  {"word": "March", "meaning": "3月"},
  {"word": "math", "meaning": "数学"},
  {"word": "matter", "meaning": "事柄；問題"},
  {"word": "What's the matter?", "meaning": "どうしたのですか"},
  {"word": "May", "meaning": "5月"},
  {"word": "meaning", "meaning": "意味"},
  {"word": "member", "meaning": "メンバー；会員"},
  {"word": "message", "meaning": "伝言；メッセージ"},
  {"word": "meter", "meaning": "メートル"},
  {"word": "milk", "meaning": "牛乳"},
  {"word": "minute", "meaning": "（時間の）分"},
  {"word": "mom", "meaning": "お母さん；ママ"},
  {"word": "Monday", "meaning": "月曜日"},
  {"word": "month", "meaning": "月；1か月"},
  {"word": "morning", "meaning": "朝"},
  {"word": "Good morning.", "meaning": "おはよう"},
  {"word": "in the morning", "meaning": "朝に"},
  {"word": "mother", "meaning": "母；お母さん"},
  {"word": "mouth", "meaning": "口"},
  {"word": "Mr.", "meaning": "〜さん、〜先生（男性に対する敬称）"},
  {"word": "Ms.", "meaning": "〜さん、〜先生（女性に対する敬称）"},
  {"word": "much", "meaning": "たくさん（の）"},
  {"word": "museum", "meaning": "博物館"},
  {"word": "music", "meaning": "音楽"},
  {"word": "music box", "meaning": "オルゴール"},
  {"word": "my", "meaning": "私の"},
    
　{"word": "name", "meaning": "名前"},
  {"word": "new", "meaning": "新しい"},
  {"word": "New Year", "meaning": "新年"},
  {"word": "New York", "meaning": "ニューヨーク"},
  {"word": "New Zealand", "meaning": "ニュージーランド"},
  {"word": "newspaper", "meaning": "新聞"},
  {"word": "nice", "meaning": "よい、すてきな"},
  {"word": "Nice to meet you.", "meaning": "お会いできてうれしいです。（初対面のあいさつ）"},
  {"word": "night", "meaning": "夜"},
  {"word": "nine", "meaning": "9"},
  {"word": "nineteen", "meaning": "19"},
  {"word": "ninety", "meaning": "90"},
  {"word": "ninth", "meaning": "9番目の"},
  {"word": "nose", "meaning": "鼻"},
  {"word": "November", "meaning": "11月"},
  {"word": "now", "meaning": "今は、現在では"},
  {"word": "NPO", "meaning": "非営利組織"},
  {"word": "number", "meaning": "数字、番号"},

  {"word": "ocean", "meaning": "大洋、海"},
  {"word": "o'clock", "meaning": "〜時"},
  {"word": "October", "meaning": "10月"},
  {"word": "of", "meaning": "〜の"},
  {"word": "of course", "meaning": "もちろん"},
  {"word": "off", "meaning": "（固定した状態から）離れて"},
  {"word": "often", "meaning": "しばしば、よく"},
  {"word": "OK", "meaning": "わかりました、いいですよ"},
  {"word": "old", "meaning": "（〜歳の）年をとっている、古い"},
  {"word": "one", "meaning": "1つ、1人"},
  {"word": "only", "meaning": "たった〜だけ、ほんの〜の"},

  {"word": "page", "meaning": "ページ"},
  {"word": "paper", "meaning": "紙、新聞"},
  {"word": "park", "meaning": "公園"},
  {"word": "pen", "meaning": "ペン"},
  {"word": "pencil", "meaning": "鉛筆"},
  {"word": "pet", "meaning": "ペット"},
  {"word": "phone", "meaning": "電話"},
  {"word": "piano", "meaning": "ピアノ"},
  {"word": "pick", "meaning": "つまむ、摘む"},
  {"word": "picture", "meaning": "写真、絵"},
  {"word": "piece", "meaning": "1枚、1つ"},
  {"word": "pig", "meaning": "ブタ"},
  {"word": "pink", "meaning": "ピンク色"},
  {"word": "place", "meaning": "場所"},
  {"word": "play", "meaning": "する、演奏する、遊ぶ"},
  {"word": "player", "meaning": "選手"},
  {"word": "please", "meaning": "どうぞ、お願いします"},
  {"word": "popular", "meaning": "人気のある"},
  {"word": "potato", "meaning": "ジャガイモ"},
  {"word": "practice", "meaning": "練習"},
  {"word": "present", "meaning": "贈り物、プレゼント"},
  {"word": "program", "meaning": "番組、プログラム"},
  {"word": "programmer", "meaning": "プログラマー"},
  {"word": "pull", "meaning": "引く"},
  {"word": "pull back", "meaning": "〜を引きもどす"},
  {"word": "put", "meaning": "置く"},
  {"word": "put on", "meaning": "〜を着る"},
  {"word": "put down", "meaning": "〜を書き留める"},
  {"word": "put on", "meaning": "〜を着る、〜を身につける"},

  {"word": "question", "meaning": "質問"},
  {"word": "quiet", "meaning": "静かな"},
  {"word": "quiz", "meaning": "クイズ"},

  {"word": "rainy", "meaning": "雨の"},
  {"word": "raise", "meaning": "上げる"},
  {"word": "reach", "meaning": "届く、到着する"},
  {"word": "read", "meaning": "読む"},
  {"word": "ready", "meaning": "準備ができている"},
  {"word": "really", "meaning": "本当に"},
  {"word": "recycling", "meaning": "リサイクル"},
  {"word": "red", "meaning": "赤い"},
  {"word": "repeat", "meaning": "くり返す"},
  {"word": "restaurant", "meaning": "レストラン"},
  {"word": "rice", "meaning": "ご飯、米"},
  {"word": "ride", "meaning": "乗る"},
  {"word": "right", "meaning": "右の"},
  {"word": "ring", "meaning": "指輪"},
  {"word": "room", "meaning": "部屋"},
  {"word": "run", "meaning": "走る"},

  {"word": "sat", "meaning": "sit の過去形"},
  {"word": "Saturday", "meaning": "土曜日"},
  {"word": "save", "meaning": "自分を守る"},
  {"word": "say", "meaning": "言う"},
  {"word": "school", "meaning": "学校"},
  {"word": "season", "meaning": "季節"},
  {"word": "second", "meaning": "2番目の"},
  {"word": "see", "meaning": "見る、分かる"},
  {"word": "See you.", "meaning": "またね。"},
  {"word": "send", "meaning": "送る"},
  {"word": "September", "meaning": "9月"},
  {"word": "seven", "meaning": "7"},
  {"word": "seventeen", "meaning": "17"},
  {"word": "seventh", "meaning": "7番目の"},
  {"word": "seventy", "meaning": "70"},
  {"word": "shirt", "meaning": "シャツ"},
  {"word": "shop", "meaning": "店"},
  {"word": "short", "meaning": "短い"},
  {"word": "sing", "meaning": "歌う"},
  {"word": "singer", "meaning": "歌手"},
  {"word": "sister", "meaning": "姉、妹"},
  {"word": "sit", "meaning": "座る"},
  {"word": "sit down", "meaning": "座る"},
  {"word": "six", "meaning": "6"},
  {"word": "sixteen", "meaning": "16"},
  {"word": "sixth", "meaning": "6番目の"},
  {"word": "skate", "meaning": "スケートをする"},
  {"word": "ski", "meaning": "スキーをする"},
  {"word": "sleigh", "meaning": "そり"},
  {"word": "slope", "meaning": "傾斜、坂"},
  {"word": "small", "meaning": "小さい"},
  {"word": "smart", "meaning": "かしこい、頭の切れる"},
  {"word": "soccer", "meaning": "サッカー"},
  {"word": "some", "meaning": "いくらかの、いくつかの"},
  {"word": "something", "meaning": "何か"},
  {"word": "sometimes", "meaning": "ときどき"},
  {"word": "son", "meaning": "息子"},
  {"word": "song", "meaning": "歌"},
  {"word": "soon", "meaning": "すぐに"},
  {"word": "sorry", "meaning": "すみません"},
  {"word": "I’m sorry.", "meaning": "すみません。"},
  {"word": "sound", "meaning": "音"},
  {"word": "space", "meaning": "宇宙"},
  {"word": "speak", "meaning": "話す"},
  {"word": "speed", "meaning": "スピード"},
  {"word": "spell", "meaning": "つづる"},
  {"word": "spider", "meaning": "クモ"},
  {"word": "sport", "meaning": "スポーツ"},
  {"word": "stand", "meaning": "立つ"},
  {"word": "stand up", "meaning": "立ち上がる"},
  {"word": "star", "meaning": "星、スター"},
  {"word": "start", "meaning": "出発する、始める"},
  {"word": "station", "meaning": "駅"},
  {"word": "stay", "meaning": "滞在する"},
  {"word": "stay with", "meaning": "〜のところに泊まる"},
  {"word": "step", "meaning": "歩み、歩み方"},
  {"word": "still", "meaning": "まだ"},
  {"word": "stop", "meaning": "止まる"},
  {"word": "stove", "meaning": "ストーブ"},
  {"word": "study", "meaning": "勉強する"},
  {"word": "student", "meaning": "生徒"},
  {"word": "stuff", "meaning": "物、材料"},
  {"word": "summer", "meaning": "夏"},
  {"word": "sun", "meaning": "太陽"},
  {"word": "Sunday", "meaning": "日曜日"},
  {"word": "sung", "meaning": "sing の過去分詞"},
  {"word": "sure", "meaning": "〜ですよ、いいですよ"},
  {"word": "sweater", "meaning": "セーター"},
  {"word": "swim", "meaning": "泳ぐ"},

  {"word": "table", "meaning": "テーブル"},
  {"word": "table tennis", "meaning": "卓球"},
  {"word": "take a bath", "meaning": "ふろに入る"},
  {"word": "take a message", "meaning": "伝言を預かる"},
  {"word": "take a picture", "meaning": "写真を撮る"},
  {"word": "take a walk", "meaning": "散歩する"},
];


// ========= main.js 統合部分 =========
let progress = {}; 
let current = null;
let wrongOnlyMode = false;

function loadData() {
    const saved = localStorage.getItem("progress");
    if (saved) progress = JSON.parse(saved);
    renderQuestion();
}

function getNextWord() {
    const candidates = words.filter(w => {
        const state = progress[w.word];
        return wrongOnlyMode ? state === "wrong" : state !== "correct";
    });
    if (!candidates.length) return null;
    return candidates[Math.floor(Math.random() * candidates.length)];
}

function renderQuestion() {
    current = getNextWord();
    if (!current) {
        if (!wrongOnlyMode) {
            wrongOnlyMode = true;
            alert("全問題出題 → 不正解だけ出題モードに切替");
            current = getNextWord();
        }
        if (!current) {
            document.getElementById("meaning").textContent = "学習完了！";
            return;
        }
    }
    document.getElementById("meaning").textContent = current.meaning;
    document.getElementById("answerInput").value = "";
    document.getElementById("result").textContent = "";
}

function checkAnswer() {
    if (!current) return;
    const input = answerInput.value.trim().toLowerCase();

    if (input === current.word.toLowerCase()) {
        progress[current.word] = "correct";
        result.textContent = "正解！";
    } else {
        progress[current.word] = "wrong";
        result.textContent = `不正解！答え: ${current.word}`;
    }
    localStorage.setItem("progress", JSON.stringify(progress));
    setTimeout(renderQuestion, 800);
}

function renderList() {
    const filter = document.getElementById("filter").value;
    const table = document.getElementById("wordTable");
    table.innerHTML = "<tr><th>単語</th><th>意味</th><th>状態</th><th>操作</th></tr>";

    words.forEach(w => {
        const state = progress[w.word] || "unanswered";
        if (filter !== "all" && filter !== state) return;

        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${w.word}</td>
          <td>${w.meaning}</td>
          <td>${state}</td>
          <td><button onclick="toggleState('${w.word}')">変更</button></td>
        `;
        table.appendChild(row);
    });
}

function toggleState(word) {
    const s = progress[word];
    if (!s) progress[word] = "correct";
    else if (s === "correct") progress[word] = "wrong";
    else delete progress[word];

    localStorage.setItem("progress", JSON.stringify(progress));
    renderList();
}

function toggleWrongOnlyMode() {
    wrongOnlyMode = !wrongOnlyMode;
    alert(wrongOnlyMode ? "不正解のみ出題 ON" : "通常モード");
    renderQuestion();
}

function showPage(id) {
    document.querySelectorAll(".page").forEach(p => p.classList.add("hidden"));
    document.getElementById(id).classList.remove("hidden");
    if (id === "list") renderList();
}

function resetProgress() {
    if (!confirm("進捗リセットしますか？")) return;
    progress = {};
    localStorage.setItem("progress", JSON.stringify(progress));
    wrongOnlyMode = false;
    renderQuestion();
    renderList();
}

window.addEventListener("DOMContentLoaded", loadData);
</script>

</body>
</html>


