<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>英単語テスト</title>

<style>
body {
    font-family: Arial;
    margin: 20px;
}
.hidden {
    display: none;
}
table, td {
    border: 1px solid #aaa;
    border-collapse: collapse;
    padding: 4px;
}

#keyboard {
  margin-top: 12px;
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 6px;
}

#keyboard button {
  padding: 12px 0;
  font-size: 18px;
}

.key-wide {
  grid-column: span 2;
}
</style>

</head>
<body>
<header>
    <h2>英単語テスト</h2>
    <nav>
        <button onclick="showPage('quiz')">出題</button>
        <button onclick="showPage('list')">一覧</button>
        <button onclick="toggleWrongOnlyMode()">不正解のみ出題</button>
        <button onclick="resetProgress()">進捗リセット</button>
    </nav>
</header>

<main>
    <!-- 出題画面 -->
    <section id="quiz" class="page">
        <p id="meaning">ここに意味が出ます</p>
        <input id="answerInput" type="text" readonly placeholder="英単語入力">
        <div id="keyboard"></div>
        <button onclick="checkAnswer()">回答！</button>
        <p id="result"></p>
    </section>

    <!-- 一覧画面 -->
    <section id="list" class="page hidden">
        <h3>単語リスト</h3>
        <select id="filter" onchange="renderList()">
            <option value="all">全て</option>
            <option value="correct">正解済み</option>
            <option value="wrong">不正解</option>
            <option value="unanswered">未出題</option>
        </select>
        <table id="wordTable"></table>
    </section>
</main>

<script>
// ===== 単語データ（words.js） =====
const words = [
  {"word": "agree", "meaning": "賛成する"},
  {"word": "begin", "meaning": "始める"},
  {"word": "bring", "meaning": "持ってくる"},
  {"word": "buy", "meaning": "買う"},
  {"word": "change", "meaning": "変える"},
  {"word": "come", "meaning": "来る"},
  {"word": "eat", "meaning": "食べる"},
  {"word": "enjoy", "meaning": "楽しむ"},
  {"word": "find", "meaning": "見つける"},
  {"word": "go", "meaning": "行く"},
  {"word": "hear", "meaning": "聞く"},
  {"word": "join", "meaning": "加わる"},
  {"word": "know", "meaning": "知っている"},
  {"word": "learn", "meaning": "学ぶ"},
  {"word": "leave", "meaning": "去る、出発する"},
  {"word": "listen", "meaning": "聞く"},
  {"word": "live", "meaning": "住む、生きる"},
  {"word": "meet", "meaning": "会う"},
  {"word": "need", "meaning": "必要とする"},
  {"word": "pass", "meaning": "通過する"},
  {"word": "practice", "meaning": "練習する"},
  {"word": "put", "meaning": "置く"},
  {"word": "read", "meaning": "読む"},
  {"word": "say", "meaning": "言う"},
  {"word": "see", "meaning": "見る"},
  {"word": "sing", "meaning": "歌う"},
  {"word": "sit", "meaning": "座る"},
  {"word": "speak", "meaning": "話す"},
  {"word": "start", "meaning": "始める"},
  {"word": "stop", "meaning": "やめる"},
  {"word": "study", "meaning": "勉強する"},
  {"word": "talk", "meaning": "話す"},
  {"word": "tell", "meaning": "教える"},
  {"word": "thank", "meaning": "感謝する"},
  {"word": "think", "meaning": "考える"},
  {"word": "try", "meaning": "試す"},
  {"word": "understand", "meaning": "理解する"},
  {"word": "wait", "meaning": "待つ"},
  {"word": "want", "meaning": "欲しい"},
  {"word": "worry", "meaning": "心配する"},
  {"word": "write", "meaning": "書く"},
  {"word": "answer", "meaning": "答える"},
  {"word": "ask", "meaning": "質問する"},
  {"word": "call", "meaning": "呼ぶ、電話する"},
  {"word": "clean", "meaning": "きれいにする"},
  {"word": "close", "meaning": "閉じる"},
  {"word": "cry", "meaning": "泣く"},
  {"word": "do", "meaning": "する"},
  {"word": "fall", "meaning": "落ちる"},
  {"word": "fish", "meaning": "魚を釣る"},
  {"word": "get", "meaning": "手に入れる"},
  {"word": "give", "meaning": "与える"},
  {"word": "graduate", "meaning": "卒業する"},
  {"word": "have", "meaning": "持っている"},
  {"word": "help", "meaning": "助ける"},
  {"word": "hope", "meaning": "希望する"},
  {"word": "keep", "meaning": "持続する"},
  {"word": "like", "meaning": "好む"},
  {"word": "look", "meaning": "見る"},
  {"word": "love", "meaning": "愛する"},
  {"word": "make", "meaning": "つくる"},
  {"word": "open", "meaning": "開ける"},
  {"word": "order", "meaning": "注文する"},
  {"word": "plan", "meaning": "計画する"},
  {"word": "promise", "meaning": "約束する"},
  {"word": "rain", "meaning": "雨が降る"},
  {"word": "save", "meaning": "救う"},
  {"word": "see", "meaning": "見る"},
  {"word": "show", "meaning": "見せる"},
  {"word": "sleep", "meaning": "眠る"},
  {"word": "snow", "meaning": "雪が降る"},
  {"word": "stay", "meaning": "滞在する"},
  {"word": "stop", "meaning": "止まる"},
  {"word": "study", "meaning": "勉強する"},
  {"word": "surf", "meaning": "サーフィンする"},
  {"word": "take", "meaning": "手に取る"},
  {"word": "travel", "meaning": "旅行する"},
  {"word": "use", "meaning": "使う"},
  {"word": "visit", "meaning": "訪れる"},
  {"word": "walk", "meaning": "歩く"},
  {"word": "work", "meaning": "働く"},
    
　{"word": "arrive", "meaning": "着く"},
  {"word": "become", "meaning": "〜になる"},
  {"word": "break", "meaning": "こわす"},
  {"word": "catch", "meaning": "つかまえる"},
  {"word": "carry", "meaning": "運ぶ"},
  {"word": "cut", "meaning": "切る"},
  {"word": "dance", "meaning": "おどる"},
  {"word": "die", "meaning": "死ぬ"},
  {"word": "drink", "meaning": "飲む"},
  {"word": "drive", "meaning": "運転する"},
  {"word": "excuse", "meaning": "許す"},
  {"word": "feel", "meaning": "感じる"},
  {"word": "finish", "meaning": "終える"},
  {"word": "fly", "meaning": "飛ぶ"},
  {"word": "forget", "meaning": "忘れる"},
  {"word": "grow", "meaning": "育つ"},
  {"word": "hit", "meaning": "打つ"},
  {"word": "hold", "meaning": "持つ"},
  {"word": "invite", "meaning": "招く"},
  {"word": "move", "meaning": "動かす"},
  {"word": "pardon", "meaning": "許す"},
  {"word": "pick", "meaning": "摘む"},
  {"word": "reach", "meaning": "着く"},
  {"word": "receive", "meaning": "受け取る"},
  {"word": "remember", "meaning": "思い出す"},
  {"word": "ride", "meaning": "乗る"},
  {"word": "send", "meaning": "送る"},
  {"word": "share", "meaning": "分ける"},
  {"word": "shout", "meaning": "さけぶ"},
  {"word": "ski", "meaning": "スキーをする"},
  {"word": "smell", "meaning": "においがする"},
  {"word": "spend", "meaning": "費やす"},
  {"word": "stand", "meaning": "立つ"},
  {"word": "swim", "meaning": "泳ぐ"},
  {"word": "throw", "meaning": "投げる"},
  {"word": "turn", "meaning": "まわる"},
  {"word": "wake", "meaning": "目覚める"},
  {"word": "walk", "meaning": "歩く"},
  {"word": "wash", "meaning": "洗う"},
  {"word": "wear", "meaning": "着る"},
  {"word": "win", "meaning": "勝つ"},
  {"word": "appear", "meaning": "現れる"},
  {"word": "believe", "meaning": "信じる"},
  {"word": "borrow", "meaning": "借りる"},
  {"word": "build", "meaning": "建てる"},
  {"word": "burn", "meaning": "燃やす"},
  {"word": "cheer", "meaning": "声援を送る"},
  {"word": "climb", "meaning": "登る"},
  {"word": "collect", "meaning": "集める"},
  {"word": "communicate", "meaning": "伝え合う"},
  {"word": "continue", "meaning": "続ける"},
  {"word": "cross", "meaning": "横切る"},
  {"word": "decide", "meaning": "決める"},
  {"word": "draw", "meaning": "描く"},
  {"word": "drop", "meaning": "落とす"},
  {"word": "explain", "meaning": "説明する"},
  {"word": "fight", "meaning": "戦う"},
  {"word": "fill", "meaning": "いっぱいにす"},
  {"word": "follow", "meaning": "ついていく"},
  {"word": "happen", "meaning": "起こる"},
  {"word": "hate", "meaning": "嫌う"},
  {"word": "hurt", "meaning": "傷つける"},
  {"word": "imagine", "meaning": "想像する"},
  {"word": "introduce", "meaning": "紹介する"},
  {"word": "invent", "meaning": "発明する"},
  {"word": "jump", "meaning": "とぶ"},
  {"word": "kill", "meaning": "殺す"},
  {"word": "laugh", "meaning": "笑う"},
  {"word": "lend", "meaning": "貸す"},
  {"word": "lie", "meaning": "横たわる"},
  {"word": "pay", "meaning": "払う"},
  {"word": "paint", "meaning": "塗る"},
  {"word": "push", "meaning": "押す"},
  {"word": "respect", "meaning": "尊敬する"},
  {"word": "return", "meaning": "もどる、戻る"},
  {"word": "sell", "meaning": "売る"},
  {"word": "taste", "meaning": "味がする"},
  {"word": "touch", "meaning": "触れる"},
  {"word": "wonder", "meaning": "不思議に思う"},

  {"word": "bear", "meaning": "にこらす"},
  {"word": "belong", "meaning": "に属する"},
  {"word": "contain", "meaning": "〜を含む"},
  {"word": "cover", "meaning": "おおう"},
  {"word": "develop", "meaning": "発達させる"},
  {"word": "disappear", "meaning": "消える"},
  {"word": "discover", "meaning": "見つける"},
  {"word": "enter", "meaning": "入る"},
  {"word": "exchange", "meaning": "交換する"},
  {"word": "express", "meaning": "表現する"},
  {"word": "guess", "meaning": "推測する"},
  {"word": "hang", "meaning": "かける"},
  {"word": "hurry", "meaning": "いそぐ"},
  {"word": "improve", "meaning": "上達する"},
  {"word": "increase", "meaning": "ふえる"},
  {"word": "kick", "meaning": "ける"},
  {"word": "lock", "meaning": "かぎをかける"},
  {"word": "lose", "meaning": "失う"},
  {"word": "marry", "meaning": "結婚する"},
  {"word": "lead", "meaning": "導く"},
  {"word": "mind", "meaning": "嫌がる"},
  {"word": "remove", "meaning": "取り除く"},
  {"word": "repeat", "meaning": "繰り返す"},
  {"word": "rise", "meaning": "上がる"},
  {"word": "seem", "meaning": "〜のように見える"},
  {"word": "set", "meaning": "置く"},
  {"word": "shake", "meaning": "振る"},
  {"word": "skate", "meaning": "スケートをする"},
  {"word": "support", "meaning": "支持する"},
  {"word": "translate", "meaning": "翻訳する"},
  {"word": "use", "meaning": "使う"},
  {"word": "website", "meaning": "繋がせる"},
  {"word": "mean", "meaning": "意味する"},
  {"word": "measure", "meaning": "はかる"},
  {"word": "miss", "meaning": "乗りそこなう"},
  {"word": "prepare", "meaning": "準備する"},
  {"word": "produce", "meaning": "生産する"},
  {"word": "protect", "meaning": "守る"},
  {"word": "pull", "meaning": "引く"},
  {"word": "realize", "meaning": "実現する"},
  {"word": "recycle", "meaning": "リサイクルする"},
  {"word": "reduce", "meaning": "減らす"},
  {"word": "repeat", "meaning": "繰り返す"},
  {"word": "reuse", "meaning": "再び用いる"},
  {"word": "scream", "meaning": "叫ぶ"},
  {"word": "shout", "meaning": "叫ぶ"},
  {"word": "teach", "meaning": "教える"},
  {"word": "throw", "meaning": "投げる"},
  {"word": "wake", "meaning": "目覚める"},
  {"word": "win", "meaning": "勝つ"},

  {"word": "add", "meaning": "加える"},
  {"word": "attack", "meaning": "攻撃する"},
  {"word": "beat", "meaning": "打つ、たたく"},
  {"word": "bark", "meaning": "吠える"},
  {"word": "blow", "meaning": "吹きおろす"},
  {"word": "flow", "meaning": "流れる"},
  {"word": "cause", "meaning": "引き起こす"},
  {"word": "celebrate", "meaning": "お祝う"},
  {"word": "check", "meaning": "調べる"},
  {"word": "copy", "meaning": "複写する"},
  {"word": "count", "meaning": "数える"},
  {"word": "create", "meaning": "創造する"},
  {"word": "destroy", "meaning": "破壊する"},
  {"word": "disagree", "meaning": "反対する"},
  {"word": "encourage", "meaning": "勇気づける"},
  {"word": "expect", "meaning": "予期する"},
  {"word": "fail", "meaning": "失敗する"},
  {"word": "fix", "meaning": "修理する"},
  {"word": "frighten", "meaning": "こわがらせる"},
  {"word": "gather", "meaning": "集める"},
  {"word": "greet", "meaning": "挨拶する"},
  {"word": "impress", "meaning": "感銘を与える"},
  {"word": "injure", "meaning": "傷つける"},
  {"word": "lay", "meaning": "横たえる"},
  {"word": "lure", "meaning": "誘惑する"},
  {"word": "notice", "meaning": "気がつく"},
  {"word": "perform", "meaning": "演じる"},
  {"word": "pollute", "meaning": "汚染する"},
  {"word": "preserve", "meaning": "保存する"},
  {"word": "raise", "meaning": "育てる"},
  {"word": "relax", "meaning": "くつろぐ"},
  {"word": "rush", "meaning": "突進する"},
  {"word": "repair", "meaning": "修理する"},
  {"word": "serve", "meaning": "仕える"},
  {"word": "shine", "meaning": "輝く"},
  {"word": "solve", "meaning": "解く"},
  {"word": "succeed", "meaning": "成功する"},
  {"word": "treat", "meaning": "扱う"},
  {"word": "trust", "meaning": "信頼する"},
  {"word": "wrap", "meaning": "包む"},

  {"word": "brave", "meaning": "勇敢な"},
  {"word": "clever", "meaning": "りこうな"},
  {"word": "common", "meaning": "共通の"},
  {"word": "dead", "meaning": "死んだ"},
  {"word": "delicious", "meaning": "とてもおいしい"},
  {"word": "dirty", "meaning": "きたない"},
  {"word": "electric", "meaning": "電気の"},
  {"word": "empty", "meaning": "空の"},
  {"word": "fresh", "meaning": "新鮮な"},
  {"word": "funny", "meaning": "おもしろい"},
  {"word": "healthy", "meaning": "健康な"},
  {"word": "honest", "meaning": "正直な"},
  {"word": "human", "meaning": "人間の"},
  {"word": "impossible", "meaning": "不可能な"},
  {"word": "international", "meaning": "国際的な"},
  {"word": "lonely", "meaning": "孤独な"},
  {"word": "loud", "meaning": "うるさい"},
  {"word": "lovely", "meaning": "美しい"},
  {"word": "narrow", "meaning": "せまい"},
  {"word": "national", "meaning": "国の"},
  {"word": "natural", "meaning": "自然の"},
  {"word": "nervous", "meaning": "緊張した"},
  {"word": "peaceful", "meaning": "平和な"},
  {"word": "perfect", "meaning": "完ぺきな"},
  {"word": "possible", "meaning": "可能な"},
  {"word": "professional", "meaning": "プロの"},
  {"word": "quick", "meaning": "速い"},
  {"word": "round", "meaning": "丸い"},
  {"word": "serious", "meaning": "まじめな"},
  {"word": "shy", "meaning": "恥ずかしがりの"},
  {"word": "silent", "meaning": "静かな"},
  {"word": "sleepy", "meaning": "眠い"},
  {"word": "thick", "meaning": "厚い"},
  {"word": "thin", "meaning": "うすい"},
  {"word": "wild", "meaning": "野生的な"},
    
  {"word": "bad", "meaning": "悪い"},
  {"word": "beautiful", "meaning": "美しい"},
  {"word": "big", "meaning": "大きい"},
  {"word": "busy", "meaning": "忙しい"},
  {"word": "cute", "meaning": "かわいい"},
  {"word": "different", "meaning": "ちがう、異なった"},
  {"word": "difficult", "meaning": "難しい"},
  {"word": "easy", "meaning": "やさしい、容易な"},
  {"word": "exciting", "meaning": "わくわくするような"},
  {"word": "famous", "meaning": "有名な"},
  {"word": "favorite", "meaning": "お気に入りの"},
  {"word": "foreign", "meaning": "外国の"},
  {"word": "free", "meaning": "ひまな、自由な、無料の"},
  {"word": "glad", "meaning": "うれしい"},
  {"word": "good", "meaning": "よい、正しい"},
  {"word": "great", "meaning": "大きな、すごい"},
  {"word": "happy", "meaning": "幸せな、うれしい"},
  {"word": "high", "meaning": "高い"},
  {"word": "important", "meaning": "重要な、大事な"},
  {"word": "interesting", "meaning": "面白い"},
  {"word": "large", "meaning": "大きい、広い"},
  {"word": "last", "meaning": "最後の、以前の"},
  {"word": "little", "meaning": "小さい"},
  {"word": "new", "meaning": "新しい"},
  {"word": "nice", "meaning": "よい、すてきな"},
  {"word": "old", "meaning": "古い、年をとった"},
  {"word": "popular", "meaning": "人気のある"},
  {"word": "pretty", "meaning": "かわいい、きれいな"},
  {"word": "ready", "meaning": "用意ができて"},
  {"word": "sad", "meaning": "悲しい"},
  {"word": "same", "meaning": "同じ"},
  {"word": "short", "meaning": "短い、背が低い"},
  {"word": "small", "meaning": "小さい"},
  {"word": "sorry", "meaning": "気のどく、すまない"},
  {"word": "tall", "meaning": "背が高い"},
  {"word": "tired", "meaning": "つかれた、あきた"},
  {"word": "wonderful", "meaning": "すばらしい"},
  {"word": "young", "meaning": "若い"},

  {"word": "cloudy", "meaning": "くもった"},
  {"word": "deep", "meaning": "深い"},
  {"word": "fast", "meaning": "速い"},
  {"word": "fine", "meaning": "すばらしい"},
  {"word": "friendly", "meaning": "好意的な"},
  {"word": "heavy", "meaning": "重い"},
  {"word": "hot", "meaning": "熱い"},
  {"word": "late", "meaning": "遅れた"},
  {"word": "low", "meaning": "低い"},
  {"word": "next", "meaning": "次の"},
  {"word": "quiet", "meaning": "静かな"},
  {"word": "rich", "meaning": "お金持ちの"},
  {"word": "slow", "meaning": "おそい"},
  {"word": "smart", "meaning": "お利口な"},
  {"word": "snowy", "meaning": "雪の降る"},
  {"word": "soft", "meaning": "やわらかい"},
  {"word": "straight", "meaning": "まっすぐな"},
  {"word": "sunny", "meaning": "晴れた"},
  {"word": "strange", "meaning": "奇妙な"},
  {"word": "sure", "meaning": "確信して"},
  {"word": "terrible", "meaning": "おそろしい"},
  {"word": "thirsty", "meaning": "のどがかわいた"},
  {"word": "unhappy", "meaning": "不幸せな"},
  {"word": "usual", "meaning": "いつもの"},
  {"word": "useful", "meaning": "役立つ"},
  {"word": "well", "meaning": "健康な"},
  {"word": "wide", "meaning": "広い"},
  {"word": "windy", "meaning": "風の吹く"},
  {"word": "wrong", "meaning": "間違った"},

  // IMG_4656.jpg (PART 3)
  {"word": "all", "meaning": "全部の"},
  {"word": "angry", "meaning": "怒った"},
  {"word": "better", "meaning": "よりよい"},
  {"word": "bright", "meaning": "明るい"},
  {"word": "careful", "meaning": "注意深い"},
  {"word": "cheap", "meaning": "安い"},
  {"word": "clear", "meaning": "晴れた"},
  {"word": "comfortable", "meaning": "快な"},
  {"word": "cool", "meaning": "すずしい"},
  {"word": "dangerous", "meaning": "危ない"},
  {"word": "dark", "meaning": "暗い"},
  {"word": "dear", "meaning": "親愛なる"},
  {"word": "early", "meaning": "早い"},
  {"word": "expensive", "meaning": "高価な"},
  {"word": "full", "meaning": "満腹の"},
  {"word": "hungry", "meaning": "空腹の"},
  {"word": "long", "meaning": "長い"},
  {"word": "lucky", "meaning": "幸運な"},
  {"word": "rainy", "meaning": "雨の降る"},
  {"word": "safe", "meaning": "安全な"},
  {"word": "sick", "meaning": "病気の"},
  {"word": "simple", "meaning": "簡単な"},
  {"word": "special", "meaning": "特別の"},
  {"word": "strong", "meaning": "強い"},
  {"word": "sweet", "meaning": "あまい"},
  {"word": "true", "meaning": "真実の"},
  {"word": "warm", "meaning": "あたたかい"},
  {"word": "weak", "meaning": "弱い"},
  {"word": "whole", "meaning": "全体の、すべての"}    
];


// ========= main.js 統合部分 =========
let progress = {}; 
let current = null;
let wrongOnlyMode = false;

function loadData() {
    const saved = localStorage.getItem("progress");
    if (saved) progress = JSON.parse(saved);
    renderQuestion();
}

function getNextWord() {
    const candidates = words.filter(w => {
        const state = progress[w.word];
        return wrongOnlyMode ? state === "wrong" : state !== "correct";
    });
    if (!candidates.length) return null;
    return candidates[Math.floor(Math.random() * candidates.length)];
}

function renderQuestion() {
    current = getNextWord();
    if (!current) {
        if (!wrongOnlyMode) {
            wrongOnlyMode = true;
            alert("全問題出題 → 不正解だけ出題モードに切替");
            current = getNextWord();
        }
        if (!current) {
            document.getElementById("meaning").textContent = "学習完了！";
            return;
        }
    }
    document.getElementById("meaning").textContent = current.meaning;
    document.getElementById("answerInput").value = "";
    document.getElementById("result").textContent = "";
}

function checkAnswer() {
    if (!current) return;
    const input = answerInput.value.trim();

    if (input === current.word.toLowerCase()) {
        progress[current.word] = "correct";
        result.textContent = "正解！";
    } else {
        progress[current.word] = "wrong";
        result.textContent = `不正解！答え: ${current.word}`;
    }
    localStorage.setItem("progress", JSON.stringify(progress));
    setTimeout(renderQuestion, 800);
}

function renderList() {
    const filter = document.getElementById("filter").value;
    const table = document.getElementById("wordTable");
    table.innerHTML = "<tr><th>単語</th><th>意味</th><th>状態</th><th>操作</th></tr>";

    words.forEach(w => {
        const state = progress[w.word] || "unanswered";
        if (filter !== "all" && filter !== state) return;

        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${w.word}</td>
          <td>${w.meaning}</td>
          <td>${state}</td>
          <td><button onclick="toggleState('${w.word}')">変更</button></td>
        `;
        table.appendChild(row);
    });
}

function toggleState(word) {
    const s = progress[word];
    if (!s) progress[word] = "correct";
    else if (s === "correct") progress[word] = "wrong";
    else delete progress[word];

    localStorage.setItem("progress", JSON.stringify(progress));
    renderList();
}

function toggleWrongOnlyMode() {
    wrongOnlyMode = !wrongOnlyMode;
    alert(wrongOnlyMode ? "不正解のみ出題 ON" : "通常モード");
    renderQuestion();
}

function showPage(id) {
    document.querySelectorAll(".page").forEach(p => p.classList.add("hidden"));
    document.getElementById(id).classList.remove("hidden");
    if (id === "list") renderList();
}

function resetProgress() {
    if (!confirm("進捗リセットしますか？")) return;
    progress = {};
    localStorage.setItem("progress", JSON.stringify(progress));
    wrongOnlyMode = false;
    renderQuestion();
    renderList();
}

window.addEventListener("DOMContentLoaded", loadData);

let isUpper = false;

const keyboard = document.getElementById("keyboard");
const input = document.getElementById("answerInput");

function buildKeyboard() {
  keyboard.innerHTML = "";

  // a-z
  for (let i = 0; i < 26; i++) {
    const ch = String.fromCharCode(97 + i);
    const btn = document.createElement("button");
    btn.textContent = isUpper ? ch.toUpperCase() : ch;
    btn.onclick = () => addChar(btn.textContent);
    keyboard.appendChild(btn);
  }

  // Shift
  const shift = document.createElement("button");
  shift.textContent = "Shift";
  shift.className = "key-wide";
  shift.onclick = toggleCase;
  keyboard.appendChild(shift);

  // Backspace
  const back = document.createElement("button");
  back.textContent = "⌫";
  back.className = "key-wide";
  back.onclick = backspace;
  keyboard.appendChild(back);
}

function addChar(c) {
  input.value += c;
}

function backspace() {
  input.value = input.value.slice(0, -1);
}

function toggleCase() {
  isUpper = !isUpper;
  buildKeyboard();
}

// 初期化
buildKeyboard();

    
</script>

</body>
</html>










